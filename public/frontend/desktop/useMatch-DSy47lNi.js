import{r as c,aN as M,cL as P,x as A,k as i,al as w,$ as F,ea as E,eX as b,eg as R,eY as m,ei as h,b as I,bn as O,ej as Y,eZ as H}from"./index-QJ1DP7so.js";function Q(f,l){const p=c(0),d=c(0),s=c(0),v=c(0),o=c(!1),g=c(null);let r=null;const e=c(null),n=c(null);function u(a){return typeof a=="number"?w(a):"value"in a?w(a.value):a}function t(){const a=e.value,B=n.value.diff(a);g.value=B>0;const C=E.duration(Math.abs(B));p.value=C.days(),d.value=C.hours(),s.value=C.minutes(),v.value=C.seconds()}function S(){e.value=e.value.add(1,"second"),g.value&&e.value.valueOf()>=n.value.valueOf()&&T(),t()}function T(){r!==null&&(window.clearInterval(r),r=null),o.value=!1}function y(){r===null&&(o.value=!0,r=window.setInterval(S,1e3))}M(()=>{o.value&&y()}),P(()=>{r!==null&&window.clearInterval(r)}),A([()=>F(f)?f.value:f,()=>F(l)?l.value:l],([a,k])=>{a&&(e.value=u(a),n.value=typeof k<"u"?u(k):w(),y())},{immediate:!0});const L=i(()=>{const a=(s.value+d.value*60).toString().padStart(2,"0"),k=v.value.toString().padStart(2,"0");return"".concat(a,":").concat(k)});return{days:p,hours:d,minutes:s,seconds:v,isRunning:o,isCountdown:g,commonFormat:L}}function j(f){const l=c(f),p=i(()=>{var e,n;if((n=(e=l.value)==null?void 0:e.nsg)!=null&&n.length){const u=l.value.nsg.find(t=>t.tyg===b.Corner);if(u)return u.sc}return null}),d=i(()=>{var e,n;if((n=(e=l.value)==null?void 0:e.nsg)!=null&&n.length){const u=l.value.nsg.find(t=>t.tyg===b.Score);if(u)return u.sc}return null}),s=i(()=>{var e,n;if((n=(e=l.value)==null?void 0:e.nsg)!=null&&n.length){const u=l.value.nsg.find(t=>t.tyg===b.YellowCard);if(u)return u.sc}return null}),v=i(()=>{var e,n;if((n=(e=l.value)==null?void 0:e.nsg)!=null&&n.length){const u=l.value.nsg.find(t=>t.tyg===b.RedCard);if(u)return u.sc}return null}),o=i(()=>{var e,n;if((n=(e=l.value)==null?void 0:e.nsg)!=null&&n.length){let u=null;l.value.sid===R.Soccer?u=m.SoccerFistHalf:l.value.sid===R.Basketball&&(u=m.BasketballFirstHalf);const t=l.value.nsg.find(S=>S.tyg===b.Score&&S.pe===u);if(t)return t.sc}return null}),g=i(()=>{var u,t;const e=[m.BasketballFirstQuarter,m.BasketballSecondQuarter,m.BasketballThirdQuarter,m.BasketballFourthQuarter],n=[];if((t=(u=l.value)==null?void 0:u.nsg)!=null&&t.length)for(let S=0;S<e.length;S++){const T=l.value.nsg.find(y=>y.tyg===b.Score&&y.pe===e[S]);if(T)n.push(T.sc);else break}return n});return{isLive:i(()=>{var e,n;return+((e=l.value)==null?void 0:e.ms)!==h.Ended&&+((n=l.value)==null?void 0:n.ms)!==h.Cancelled}),cornerScores:p,totalScores:d,yellowCards:s,redCards:v,cornerFirstHalf:o,basketballAllStages:g}}function x(f){var p,d;const{commonFormat:l}=Q(((d=(p=I(f))==null?void 0:p.mc)==null?void 0:d.s)*1e3,0);return i(()=>{var v,o,g,r,e,n;const s=I(f);return!((v=s==null?void 0:s.mc)!=null&&v.s)&&!((o=s==null?void 0:s.mc)!=null&&o.pe)?null:((g=s==null?void 0:s.mc)==null?void 0:g.s)===void 0&&((r=s==null?void 0:s.mc)!=null&&r.pe)?O().getLanguageText(s.mc.pe,Y.MatchPeriod):(e=s==null?void 0:s.mc)!=null&&e.r?l.value:H((n=s==null?void 0:s.mc)==null?void 0:n.s)})}export{j as a,x as u};
