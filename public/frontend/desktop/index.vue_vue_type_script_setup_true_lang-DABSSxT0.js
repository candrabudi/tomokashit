import{es as ne,d as N,u as Y,bn as ee,k as A,et as te,o as a,c as l,a as o,n as T,t as m,F as $,g as P,b as t,f as x,w as L,a8 as ce,a4 as ie,v as S,ej as se,_ as q,aA as re,aI as de,A as ue,c6 as me,dP as ae,Y as G,s as oe,ek as pe,ef as he,h as fe,bu as W,ei as X,e as D,eg as Z,R as H,S as le,r as R,x as J,i as _e,a0 as ge,l as ve,eu as ye,bD as xe,T as be,ee as M,ev as ke,ay as we,$ as Ce,ew as $e}from"./index-QJ1DP7so.js";import{_ as Le}from"./option.vue_vue_type_script_setup_true_lang-B1u73Sh4.js";import{a as Se,u as Te}from"./useMatch-DSy47lNi.js";import{f as Ie}from"./match-CBbeQIDv.js";import{_ as Be,a as De,g as Ae}from"./pinyin-DhpFAQ_s.js";const Pe={class:"rd-10"},Fe={class:"sticky top-0 z-10 bg-body"},Me={class:"w-280 flex items-center"},Re=["src","alt"],Ne={class:"text-14"},je={class:"flex flex-1 items-center justify-between text-center text-12"},Ue={class:"h-full w-80 flex items-center justify-end"},Ve={key:0,class:"rd-b-10 bg-paper px-10"};function Ft(i){let n=null;const e=[];return i.forEach(u=>{(!n||u.lg.id!==n.id)&&(n=ne(u.lg),n.groupId=n.id+u.id,n.list=[],e.push(n)),n.list.push(u)}),e}const Mt=N({__name:"index",props:{title:{},iconUrl:{},expand:{type:Boolean},sportId:{}},emits:["expandChange"],setup(i,{emit:n}){const e=i,u=n,{t:b}=Y();function v(){u("expandChange",!e.expand)}const d=ee(),r=A(()=>te[e.sportId]);function s(c){return c.titleI18nPath?b(c.titleI18nPath):d.getLanguageText(c.mty,se.MarketType)}return(c,y)=>{const k=q,w=re,h=de;return a(),l("div",Pe,[o("div",Fe,[o("div",{class:T(["h-40 flex cursor-pointer items-center rd-t-10 bg-paper pl-10 pr-20",{"rd-b-10":!e.expand}]),onClick:v},[o("div",Me,[o("img",{class:"mr-10 h-20 w-20",src:e.iconUrl||"/assets/image/tram_icon2.png",alt:e.title},null,8,Re),o("div",Ne,m(e.title),1)]),o("div",je,[(a(!0),l($,null,P(t(r),p=>(a(),l("div",{key:"".concat(p.mty).concat(p.pe),class:"flex-1 opacity-70"},m(s(p)),1))),128))]),o("div",Ue,[x(w,null,{default:L(()=>[ce(x(k,{name:e.expand?"chevron-up":"chevron-down",size:"1vw"},null,8,["name"]),[[h]])]),_:1})])],2)]),e.expand?(a(),l("div",Ve,[ie(c.$slots,"default")])):S("",!0)])}}}),Ee={},ze={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"100%",height:"100%",viewBox:"0 0 22 22"},Oe=me('<defs><clipPath id="clip-path"><rect id="矩形_5823" data-name="矩形 5823" width="11" height="22" fill="#fff" stroke="#707070" stroke-width="1"></rect></clipPath></defs><g id="组_128454" data-name="组 128454" transform="translate(-20 -1208)"><g id="椭圆_773" data-name="椭圆 773" transform="translate(20 1208)" fill="none" stroke="currentColor" stroke-width="1"><circle cx="11" cy="11" r="11" stroke="none"></circle><circle cx="11" cy="11" r="10.5" fill="none"></circle></g><g id="蒙版组_127704" data-name="蒙版组 127704" transform="translate(31 1230) rotate(180)" clip-path="url(#clip-path)"><circle id="椭圆_774" data-name="椭圆 774" cx="8" cy="8" r="8" transform="translate(-8 3)" fill="currentColor"></circle></g></g>',2),He=[Oe];function Ye(i,n){return a(),l("svg",ze,He)}const qe=ue(Ee,[["render",Ye]]),Ke="/assets/icon/match_video.svg",Ge="/assets/icon/match_court.svg",Je="/assets/icon/favor_active.svg?t=1",Qe="/assets/icon/favor_unactivated.svg?t=1",We={key:0},Xe=N({__name:"mgItem",props:{match:{},mg:{},sportId:{},layout:{},addToParlay:{type:Boolean}},emits:["bet"],setup(i,{emit:n}){const e=i,u=n,b=ae();function v(){var c,y,k;return((k=(y=(c=e.mg)==null?void 0:c.mks)==null?void 0:y[0])==null?void 0:k.ss)||null}const d=A(()=>{var c,y;return((y=(c=e.mg)==null?void 0:c.mks)==null?void 0:y[0])||null}),r=A(()=>{var c;return((c=d.value)==null?void 0:c.op)||[]});function s(c){u("bet",e.mg,c)}return(c,y)=>{var k;return a(!0),l($,null,P(((k=c.layout)==null?void 0:k.column)||2,(w,h)=>{var p,_;return a(),l("div",{key:h,class:T(["h-[var(--cell-height)] flex items-center justify-center overflow-hidden rd-4 bg-#F4F6FA text-14",{"mt-[var(--cell-gap)]":h!==0,"order-1":w===1,"order-2":w===3,"order-3":w===2}]),onClick:y[0]||(y[0]=G(()=>{},["stop"]))},[t(r)[h]?(a(),oe(Le,{key:1,nm:t(r)[h].nm,bod:t(r)[h].bod,od:t(r)[h].od,lock:v()!==t(pe).Active||!t(r)[h].od||t(r)[h].od<0||e.addToParlay&&((_=(p=c.mg.mks)==null?void 0:p[0])==null?void 0:_.au)===0,actived:t(b).isActived(e.match,e.mg,e.mg.mks[0],t(r)[h]),"hide-label":e.layout.hideLabel,onBet:f=>s(t(r)[h])},null,8,["nm","bod","od","lock","actived","hide-label","onBet"])):(a(),l("div",We," - "))],2)}),128)}}}),Ze=N({__name:"marketList",props:{match:{},mgList:{},sportId:{},addToParlay:{type:Boolean,default:!0}},setup(i){const n=i,e=ae(),u=A(()=>te[n.sportId]);function b(d,r){return n.mgList.find(c=>c.mty===d&&c.pe===r)||null}function v(d,r){const s={match:n.match,mg:d,mk:d.mks[0],op:r};if(e.isActived(n.match,d,d.mks[0],r)){e.multipleBetsRemove(s);return}e.multipleBetsAdd(s)}return(d,r)=>(a(!0),l($,null,P(t(u),s=>(a(),l("div",{key:"".concat(s.mty).concat(s.pe),class:"mx-3 flex flex-1 flex-col"},[x(Xe,{match:n.match,mg:b(s.mty,s.pe),"sport-id":n.sportId,layout:s,onBet:v},null,8,["match","mg","sport-id","layout"])]))),128))}}),et={class:"match-item"},tt={class:"h-120 flex justify-between b-t-1 b-t-[var(--border-color)] b-t-solid"},st={class:"relative w-70 flex flex-col items-center justify-center b-r-1 b-r-[var(--border-color)] b-r-solid text-center"},at={key:0,class:"absolute left-1/2 top-0 h-18 w-48 flex translate-x--1/2 items-center justify-center rd-b-6 bg-body"},ot={key:0,class:"h-14 w-16",src:Ke,alt:"video"},lt={key:1,class:"h-14 w-16",src:Ge,alt:"animation"},nt={key:1,class:"text-12"},ct={class:"mt-5 text-14 font-light lh-14"},it={class:"mt-5"},rt=["src","alt"],dt=["title"],ut={class:"ml-auto flex-shrink-0 font-semibold"},mt={class:"mt-[var(--cell-gap)] h-[var(--cell-height)] flex items-center"},pt={class:"ml-26 text-14 font-bold"},ht={class:"flex flex-1 py-10"},ft={class:"w-30 text-center"},_t={key:0,class:"ml-70 flex items-center py-9 text-14"},gt={class:"mx-10"},Rt=N({__name:"index",props:{matchData:{type:Object,required:!0},addToParlay:{type:Boolean,default:!1}},setup(i){const n=i,e=ee(),u=he(),b=fe(),{t:v}=Y(),{totalScores:d,cornerFirstHalf:r,basketballAllStages:s}=Se(W(n,"matchData")),c=Te(W(n,"matchData")),y=A(()=>e.getLanguageText(n.matchData.mc.pe,se.MatchPeriod)),k=A(()=>u.isCollected(n.matchData.id));function w(){k.value?u.remove(n.matchData.id):u.add(n.matchData.id)}function h(){b.push({path:"/sport/match/detail/".concat(n.matchData.id)})}return(p,_)=>{var C,U,V,E,z,F,O,I,K,Q;const f=q,g=qe;return a(),l("div",et,[o("div",tt,[o("div",st,[(U=(C=i.matchData)==null?void 0:C.vs)!=null&&U.have||(E=(V=i.matchData)==null?void 0:V.as)!=null&&E.length?(a(),l("div",at,[(F=(z=i.matchData)==null?void 0:z.vs)!=null&&F.have?(a(),l("img",ot)):(I=(O=i.matchData)==null?void 0:O.as)!=null&&I.length?(a(),l("img",lt)):S("",!0)])):S("",!0),(Q=(K=i.matchData)==null?void 0:K.mc)!=null&&Q.pe?(a(),l("div",nt,m(t(y)),1)):S("",!0),o("div",ct,[i.matchData.ms===t(X).Live?(a(),l($,{key:0},[t(y)!==t(c)?(a(),l($,{key:0},[D(m(t(c)),1)],64)):S("",!0)],64)):(a(),l($,{key:1},[D(m(t(Ie)(i.matchData.bt)),1)],64))]),o("div",it,[t(k)?(a(),l("img",{key:0,class:"h-20 w-20 cursor-pointer",src:Je,alt:"favor",onClick:G(w,["stop"])})):(a(),l("img",{key:1,class:"h-20 w-20 cursor-pointer",src:Qe,alt:"favor",onClick:G(w,["stop"])}))])]),o("div",{class:"w-210 cursor-pointer p-10",onClick:h},[(a(!0),l($,null,P(i.matchData.ts,(B,j)=>(a(),l("div",{key:B.id,class:T(["h-[var(--cell-height)] w-full flex items-center",{"mt-[var(--cell-gap)]":j!==0}])},[o("img",{class:"mr-10 h-16 w-16",src:B.lurl||"/assets/image/tram_icon2.png",alt:B.na},null,8,rt),o("div",{class:"overflow-hidden text-ellipsis whitespace-nowrap text-14 font-bold",title:B.na},m(B.na),9,dt),o("div",ut,m(i.matchData.ms===t(X).Live&&t(d)?t(d)[j]:"-"),1)],2))),128)),o("div",mt,[o("div",pt,m(t(v)("component.matchItem.draw")),1)])]),o("div",ht,[x(Ze,{match:i.matchData,"mg-list":i.matchData.mg,"sport-id":i.matchData.sid},null,8,["match","mg-list","sport-id"])]),o("div",{class:"mr-10 w-80 flex cursor-pointer items-center justify-center opacity-50",onClick:h},[o("div",ft,m(i.matchData.tms),1),x(f,{name:"chevron-right"})])]),t(r)||t(s).length?(a(),l("div",_t,[i.matchData.sid===t(Z).Soccer&&t(r)?(a(),l($,{key:0},[x(g,{class:"ml-10 h-16 w-16"}),o("div",gt,m(t(r).join("-")),1)],64)):i.matchData.sid===t(Z).Basketball?(a(!0),l($,{key:1},P(t(s),(B,j)=>(a(),l("div",{key:j,class:"b-l-1 b-l-[var(--border-color)] b-l-solid px-10"},[o("span",{class:T(j<t(s).length-1?"opacity-50":"")},m(B.join("-")),3)]))),128)):S("",!0)])):S("",!0)])}}}),vt="/assets/icon/change.svg",yt="/assets/icon/collapse.svg",xt={class:"w-400 overflow-hidden rd-10 bg-body py-20"},bt={class:"relative mb-25 px-40 text-center text-16 font-bold"},kt={class:"pl-5px text-12 color-text-sub font-bold"},wt=["onClick"],Ct={class:"text-12"},$t={class:"flex items-center justify-between px-14"},Lt=N({__name:"index",props:H({leagues:{type:Array,default:()=>[]},modelValue:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},height:{type:String}},{visible:{type:Boolean,default:!0},visibleModifiers:{}}),emits:H(["update:model-value"],["update:visible"]),setup(i,{emit:n}){const e=i,u=le(i,"visible"),b=n;function v(){u.value=!1}const{t:d}=Y(),r=R([]),s=R([]),c=A(()=>s.value.length>=e.leagues.length);function y(p){s.value.includes(p.id)?s.value=s.value.filter(_=>_!==p.id):s.value.push(p.id)}J(()=>e.modelValue,()=>{s.value=e.modelValue}),J(()=>e.leagues,async()=>{r.value=await h(e.leagues)});function k(){c.value?s.value=[]:s.value=e.leagues.map(p=>p.id)}function w(){if(!s.value.length){ge(d("home.leagueFilterPopup.leastOneTips"));return}b("update:model-value",[...s.value]),v()}async function h(p=[]){const _=new Map;for(let f=0;f<p.length;f++){let g=p[f].na[0];Number.isNaN(+g)?g.charCodeAt(0)>255&&(g=await Ae(g)):g="*",g=g.toUpperCase();let C=_.get(g);C||(C=[]),C.push(p[f]),_.set(g,C)}return Array.from(_).sort().map(f=>({indexName:f[0],children:f[1]}))}return(p,_)=>{const f=q,g=ve,C=Be,U=ye,V=De,E=xe,z=be;return a(),oe(z,{show:u.value,"default-style":!1,class:"z-999999999",onClickOverlay:v},{default:L(()=>[o("div",xt,[o("div",bt,[D(m(t(d)("home.leagueFilterPopup.title"))+" ",1),x(g,{"icon-container":"",class:"absolute right-20 top-0 h-24 w-24 bg-transparent p-0",onClick:v},{default:L(()=>[x(f,{name:"window-close",class:"text-16"})]),_:1})]),x(E,{loading:e.loading},{default:L(()=>[o("div",{class:"h-[calc(var(--dvh)/2)] overflow-y-auto px-20 scrollbar-hide",style:_e({height:e.height})},[x(V,{duration:"300",sticky:!1,"hide-list":""},{default:L(()=>[(a(!0),l($,null,P(t(r),(F,O)=>(a(),l("div",{key:O,class:"mb-20"},[x(C,{index:F.indexName,class:"anchor"},{default:L(()=>[o("div",kt,m(F.indexName),1)]),_:2},1032,["index"]),(a(!0),l($,null,P(F.children,I=>(a(),l("div",{key:I.id,class:"w-full flex",onClick:K=>y(I)},[x(U,{"model-value":t(s).includes(I.id),"icon-size":"1vw"},{default:L(()=>[o("div",Ct,m(I.na),1)]),_:2},1032,["model-value"])],8,wt))),128))]))),128))]),_:1})],4)]),_:1},8,["loading"]),o("div",$t,[x(g,{class:"mr-22 h-42 flex-grow-1 rd-10 bg-paper",onClick:k},{default:L(()=>[D(m(t(c)?t(d)("home.leagueFilterPopup.allCancel"):t(d)("home.leagueFilterPopup.selectAll")),1)]),_:1}),x(g,{class:"h-42 flex-grow-1 rd-10",type:"primary",onClick:w},{default:L(()=>[D(m(t(d)("home.leagueFilterPopup.confirm"))+" ("+m(t(s).length)+") ",1)]),_:1})])])]),_:1},8,["show"])}}}),St=o("img",{class:"h-16 w-16",src:vt,alt:"change"},null,-1),Tt={class:"ml-auto"},Nt=N({__name:"index",props:H({type:{},sportId:{},collapse:{type:Boolean},order:{default:M.time},showLeagueFilter:{type:Boolean,default:!1},showRefresh:{type:Boolean},beginTime:{},endTime:{}},{selectedLeagueIds:{default:[]},selectedLeagueIdsModifiers:{}}),emits:H(["update:collapse","update:order","update:leagueIds","refresh"],["update:selectedLeagueIds"]),setup(i,{emit:n}){const e=i,u=R(!1),b=n,{t:v}=Y(),d=R(!1),r=R([]),s=le(i,"selectedLeagueIds"),c=R(!1);function y(){c.value=!0,$e({type:e.type,sportId:e.sportId,beginTime:e.beginTime,endTime:e.endTime}).then(({data:_})=>{r.value=_,s.value=_.map(f=>f.id)}).finally(()=>{c.value=!1})}J(()=>[e.type,e.sportId,e.beginTime,e.endTime],()=>{e.showLeagueFilter&&y()},{immediate:!0});function k(_){s.value=_,b("update:leagueIds",[..._])}function w(){b("update:collapse",!e.collapse)}function h(){b("update:order",e.order===M.time?M.league:M.time)}function p(){b("refresh"),u.value=!0,setTimeout(()=>{u.value=!1},1e3)}return(_,f)=>{const g=q;return a(),l($,null,[o("div",we({class:"flex items-center text-14"},_.$attrs),[o("div",{class:"flex cursor-pointer items-center",onClick:h},[o("div",{class:T(["cursor-pointer pr-10",{"color-primary":e.order===t(M).time}])},m(t(v)("home.sportsFilter.time")),3),St,o("div",{class:T(["cursor-pointer pl-10",{"color-primary":e.order===t(M).league}])},m(t(v)("home.sportsFilter.league")),3)]),e.showLeagueFilter?(a(),l("div",{key:0,class:"ml-20 flex cursor-pointer items-center b-l-1 b-l-border b-l-solid pl-20",onClick:f[0]||(f[0]=C=>d.value=!0)},[D(m(t(v)("home.leagueFilterPopup.title"))+" ( "+m(s.value.length===t(r).length?t(v)("component.filterPopup.all"):s.value.length)+" ",1),x(g,{name:"menu-down",class:"text-16"}),D(" ) ")])):S("",!0),o("div",Tt,[e.showRefresh?(a(),l("img",{key:0,class:T(["h-16 w-16 cursor-pointer",{"animate-spin":t(u)}]),src:ke,alt:"refresh",onClick:p},null,2)):S("",!0),o("img",{class:T(["ml-20 h-16 w-16 cursor-pointer",{"rotate-180":e.collapse}]),src:yt,alt:"collapse",onClick:w},null,2)])],16),x(Lt,{visible:t(d),"onUpdate:visible":f[1]||(f[1]=C=>Ce(d)?d.value=C:null),"model-value":s.value,leagues:t(r),loading:t(c),"onUpdate:modelValue":k},null,8,["visible","model-value","leagues","loading"])],64)}}});export{Nt as _,Rt as a,Mt as b,Ft as g};
