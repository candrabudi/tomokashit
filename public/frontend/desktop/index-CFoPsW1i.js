import{_ as E}from"./index.vue_vue_type_script_setup_true_lang-BGGO-kjD.js";import{_ as q}from"./index-RbNKen11.js";import{_ as R}from"./icon_live-B7SfcpAE.js";import{d as C,u as L,h as S,r as g,bk as D,o as c,c as p,a as r,t as _,b as o,e as T,f as d,a8 as V,F as b,g as M,n as N,i as U,p as A,_ as F,M as P,bq as z,V as Y,ed as H,ee as j,x as $,k as O,aN as G,w as J,$ as K}from"./index-QJ1DP7so.js";import{_ as Q}from"./football_icon-C7weDvYc.js";import{f as W}from"./match-CBbeQIDv.js";import{_ as X}from"./searchInput.vue_vue_type_script_setup_true_lang-D84QRyvj.js";import{_ as Z}from"./index.vue_vue_type_script_setup_true_lang-CR5AkcCb.js";import{_ as tt}from"./index.vue_vue_type_script_setup_true_lang-DABSSxT0.js";import"./index.vue_vue_type_style_index_0_lang-rlqotkuX.js";import"./debounce-CjT1fh4c.js";import"./effect-coverflow-D7VrIAMs.js";import"./detail.vue_vue_type_script_setup_true_lang-o17iJPcR.js";import"./index.vue_vue_type_script_setup_true_lang-DkQA8Gtg.js";import"./local-storage-DvcoHDty.js";import"./index.vue_vue_type_script_setup_true_lang-CLXyvv53.js";import"./useScrollNode-DeCbJBqw.js";import"./option.vue_vue_type_script_setup_true_lang-B1u73Sh4.js";import"./useMatch-DSy47lNi.js";import"./pinyin-DhpFAQ_s.js";const et={class:"flex items-center"},st=r("div",{class:"relative mr-12"},[r("div",{class:"h-18 w-18 rd-full bg-primary opacity-20"}),r("div",{class:"absolute left-4 top-4 h-10 w-10 rd-full bg-primary"})],-1),ot={class:"text-16"},rt={class:"mt-20 w-full flex overflow-x-auto scrollbar-hide"},it=["onClick"],at={class:"flex items-center"},lt=r("img",{class:"mr-10 h-20 w-20",src:Q,alt:"football"},null,-1),nt={class:"overflow-hidden text-ellipsis whitespace-nowrap text-14 opacity-50"},ct={class:"mt-20 flex justify-between"},pt=["src","alt"],dt=["title"],ut={class:"order-1 text-center"},_t={class:"whitespace-nowrap text-10"},ft=r("div",{class:"text-20 font-bold"}," VS ",-1),mt=C({__name:"hotMatch",setup(k){const{t:m}=L(),a=S(),h=g(!1),v=g([]);function e(){h.value=!0,A({type:4,sportId:1,pageSize:10,isPC:!0}).then(({data:i})=>{v.value=i.records}).finally(()=>{h.value=!1})}e();function u(i){a.push({path:"/sport/match/detail/".concat(i.id)})}function l(){a.push("/sport/popular")}return(i,x)=>{const w=F,y=D("drag-scroll");return c(),p("div",null,[r("div",et,[st,r("div",ot,_(o(m)("title.hotMatch")),1),r("div",{class:"ml-auto flex cursor-pointer items-center opacity-50",onClick:l},[T(_(o(m)("title.showMore"))+" ",1),d(w,{name:"chevron-right"})])]),V((c(),p("div",rt,[(c(!0),p(b,null,M(o(v),(n,s)=>(c(),p("div",{key:n.id,class:N(["w-270 flex-shrink-0 cursor-pointer rd-10 from-#E6EAF2 to-white bg-gradient-to-b px-10 pb-20 pt-10 hover:to-#E7EBF2",{"ml-10":s!==0}]),onClick:t=>u(n)},[r("div",at,[lt,r("div",nt,_(n.lg.na),1)]),r("div",ct,[(c(!0),p(b,null,M(n.ts,(t,I)=>(c(),p("div",{key:t.id,class:"flex-1 overflow-hidden text-center",style:U("order:".concat(I*2))},[r("img",{class:"h-40 w-40",src:t.lurl||"/assets/image/tram_icon2.png",alt:t.na},null,8,pt),r("div",{class:"mt-10 overflow-hidden text-ellipsis whitespace-nowrap text-14 font-bold",title:t.na},_(t.na),9,dt)],4))),128)),r("div",ut,[r("div",_t,_(o(W)(n.bt)),1),ft])])],10,it))),128))])),[[y]])])}}}),ht={class:"page-live pb-10"},vt={class:"flex items-center"},yt=r("img",{src:R,alt:"live",class:"mr-10 h-24 w-24"},null,-1),gt={class:"text-16"},Ft=C({__name:"index",setup(k){const{t:m}=L(),a=P(),h=S(),v=z(),e=Y({type:+a.query.type||H.LIVE,sportId:a.query.sid?+a.query.sid:null,orderBy:j.time,leagueIds:[]}),u=g(!1);$(()=>a.query,()=>{const{type:s,sid:t}=a.query;s&&(e.type=+s),t&&(e.sportId=+t)});const l=O(()=>{const s=v.sportMenus.find(t=>t.type===e.type);return s?s.sportList:[]});function i(s){e.sportId=s,e.leagueIds=[]}const x=g(null);function w(){var s,t;(t=(s=x.value)==null?void 0:s.refresh)==null||t.call(s)}G(()=>{l.value.length&&y(),$(()=>l.value.length,y)});function y(){l.value.length?(e.sportId===null||l.value.findIndex(s=>s.id===e.sportId)===-1)&&i(l.value[0].id):i(null)}function n(s){s&&h.push({path:"/game/search",query:{keyword:s}})}return(s,t)=>{const I=q,B=E;return c(),p("div",ht,[d(I),d(mt),d(X,{class:"mt-10 w-full",onSearch:n}),d(Z,{id:o(e).sportId,type:o(e).type,class:"mt-20","onUpdate:id":i},{title:J(()=>[r("div",vt,[yt,r("div",gt,_(o(m)("title.live")),1)])]),_:1},8,["id","type"]),d(tt,{collapse:o(u),"onUpdate:collapse":t[0]||(t[0]=f=>K(u)?u.value=f:null),order:o(e).orderBy,"onUpdate:order":t[1]||(t[1]=f=>o(e).orderBy=f),class:"mt-20","sport-id":o(e).sportId,type:o(e).type,"show-refresh":"","show-league-filter":"","onUpdate:leagueIds":t[2]||(t[2]=f=>o(e).leagueIds=f),onRefresh:w},null,8,["collapse","order","sport-id","type"]),d(B,{ref_key:"sportMatchListRef",ref:x,class:"mt-20","sport-id":o(e).sportId,type:o(e).type,"order-by":o(e).orderBy,"league-ids":o(e).leagueIds,"all-collapse":o(u),"refresh-interval":3e3,immediate:!1},null,8,["sport-id","type","order-by","league-ids","all-collapse"])])}}});export{Ft as default};
