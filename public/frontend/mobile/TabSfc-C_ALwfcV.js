import{d as P,dk as le,dl as se,c as Z,y as re,q as ce,o as j,l as de,r as F,s as w,a7 as H,e as G,cS as ue,f as u,g as c,z as Y,h as S,j as J,k as O,cF as W,dm as U,a as fe,w as ve,n as D,m as me,b as be,dn as ye,a3 as he,dp as Ce,az as ke,t as Se,c_ as $e,dq as ge,cW as pe,cN as ze,dr as q,ds as K}from"./index-kWXyNMgS.js";import{e as Te}from"./logger-RF2tOY5E.js";const Q={name:[String,Number],disabled:Boolean,ripple:{type:Boolean,default:!0},onClick:P()},_=Symbol("TABS_BIND_TAB_KEY");function De(){const{childProviders:e,bindChildren:t,length:a}=le(_);return{length:a,tabList:e,bindTabList:t}}function Be(){const{parentProvider:e,bindParent:t,index:a}=se(_);return t||Te("Tab","<var-tab/> must in <var-tabs/>"),{index:a,tabs:e,bindTabs:t}}const{name:Pe,n:B,classes:we}=Z("tab");function Ne(e,t){const a=re("ripple");return ce((j(),de("div",{class:w(e.classes(e.n(),e.n("$--box"),e.computeColorClass(),e.n("--".concat(e.itemDirection)))),ref:"tabEl",style:H({color:e.computeColorStyle()}),onClick:t[0]||(t[0]=(...d)=>e.handleClick&&e.handleClick(...d))},[F(e.$slots,"default")],6)),[[a,{disabled:e.disabled||!e.ripple}]])}const x=G({name:Pe,directives:{Ripple:ue},props:Q,setup(e){const t=u(null),a=c(()=>t.value),d=c(()=>e.name),f=c(()=>e.disabled),{index:l,tabs:m,bindTabs:v}=Be(),{onTabClick:o,active:s,activeColor:$,inactiveColor:g,disabledColor:h,itemDirection:N,resize:C}=m,p={name:d,index:l,disabled:f,element:a};v(p),Y(()=>[e.name,e.disabled],C);function b(){return e.name!=null?s.value===e.name:s.value===(l==null?void 0:l.value)}function X(){return e.disabled?h.value:b()?$.value:g.value}function A(){return e.disabled?B("$-tab--disabled"):b()?B("$-tab--active"):B("$-tab--inactive")}function E(z){const{disabled:I,name:T,onClick:L}=e;I||(S(L,T!=null?T:l.value,z),o(p))}return{tabEl:t,active:s,activeColor:$,inactiveColor:g,itemDirection:N,n:B,classes:we,computeColorStyle:X,computeColorClass:A,handleClick:E}}});x.render=Ne;var M=x;J(M);O(M,Q);const He=M,ee={active:{type:[String,Number],default:0},layoutDirection:{type:String,default:"horizontal"},itemDirection:{type:String,default:"horizontal"},fixedBottom:Boolean,activeColor:String,inactiveColor:String,disabledColor:String,color:String,indicatorColor:String,indicatorSize:[String,Number],elevation:{type:[Boolean,String,Number],default:!1},scrollable:{type:String,default:"auto"},indicatorPosition:{type:String,default:"normal"},safeArea:Boolean,sticky:Boolean,stickyCssMode:W(U,"cssMode"),stickyZIndex:W(U,"zIndex"),offsetTop:W(U,"offsetTop"),onClick:P(),onChange:P(),"onUpdate:active":P()};var V=(e,t,a)=>new Promise((d,f)=>{var l=o=>{try{v(a.next(o))}catch(s){f(s)}},m=o=>{try{v(a.throw(o))}catch(s){f(s)}},v=o=>o.done?d(o.value):Promise.resolve(o.value).then(l,m);v((a=a.apply(e,t)).next())});const{name:Ae,n:Ee,classes:Ie}=Z("tabs");function Le(e,t){return j(),fe(be(e.sticky?e.n("$-sticky"):e.Transition),{ref:e.sticky?"stickyComponent":void 0,"css-mode":e.sticky?e.stickyCssMode:void 0,"offset-top":e.sticky?e.offsetTop:void 0,"z-index":e.sticky?e.stickyZIndex:void 0},{default:ve(()=>[D("div",me({class:e.classes(e.n(),e.n("$--box"),e.n("--item-".concat(e.itemDirection)),e.n("--layout-".concat(e.layoutDirection,"-padding")),e.formatElevation(e.elevation,4),[e.fixedBottom,e.n("--fixed-bottom")],[e.safeArea,e.n("--safe-area")]),style:{background:e.color}},e.$attrs),[D("div",{ref:"scrollerEl",class:w(e.classes(e.n("tab-wrap"),[e.localScrollable,e.n("--layout-".concat(e.layoutDirection,"-scrollable"))],e.n("--layout-".concat(e.layoutDirection))))},[F(e.$slots,"default"),D("div",{class:w(e.classes(e.n("indicator"),e.n("--layout-".concat(e.layoutDirection).concat(e.indicatorPosition,"-indicator")))),style:H({width:e.layoutDirection==="horizontal"?e.indicatorWidth:e.toSizeUnit(e.indicatorSize),height:e.layoutDirection==="horizontal"?e.toSizeUnit(e.indicatorSize):e.indicatorHeight,transform:e.layoutDirection==="horizontal"?"translateX(".concat(e.indicatorX,")"):"translateY(".concat(e.indicatorY,")")})},[D("div",{class:w(e.classes(e.n("indicator-inner"),e.n("--layout-".concat(e.layoutDirection,"-indicator-inner")))),style:H({background:e.indicatorColor||e.activeColor})},null,6)],6)],2)],16)]),_:3},8,["css-mode","offset-top","z-index"])}const ie=G({name:Ae,components:{VarSticky:ye},inheritAttrs:!1,props:ee,setup(e){const t=u("0px"),a=u("0px"),d=u("0px"),f=u("0px"),l=u(!1),m=u(null),v=c(()=>e.active),o=c(()=>e.activeColor),s=c(()=>e.inactiveColor),$=c(()=>e.disabledColor),g=c(()=>e.itemDirection),h=u(null),N=c(()=>e.indicatorPosition==="reverse"?"-reverse":""),{tabList:C,bindTabList:p,length:b}=De();p({active:v,activeColor:o,inactiveColor:s,disabledColor:$,itemDirection:g,resize:y,onTabClick:A}),Y(()=>b.value,()=>V(this,null,function*(){yield ge(),y()})),Y(()=>[e.active,e.scrollable],y),he(y),Ce(y);function A(i){var n;const r=(n=i.name.value)!=null?n:i.index.value,{active:k,onChange:ae,onClick:oe}=e;S(e["onUpdate:active"],r),S(oe,r),r!==k&&S(ae,r)}function E(){return C.find(({name:i})=>e.active===i.value)}function z(i){return C.find(({index:n})=>(i!=null?i:e.active)===n.value)}function I(){if(b.value===0)return;const{active:i}=e;if(pe(i)){const n=ze(i,0,b.value-1);return S(e["onUpdate:active"],n),z(n)}}function T(){l.value=e.scrollable==="always"||C.length>=5}function L({element:i}){const n=i.value;n&&(e.layoutDirection==="horizontal"?(t.value="".concat(n.offsetWidth,"px"),d.value="".concat(n.offsetLeft,"px")):(a.value="".concat(n.offsetHeight,"px"),f.value="".concat(n.offsetTop,"px")))}function ne({element:i}){if(!l.value)return;const n=m.value,r=i.value;if(e.layoutDirection==="horizontal"){const k=r.offsetLeft+r.offsetWidth/2-n.offsetWidth/2;q(n,{left:k,animation:K})}else{const k=r.offsetTop+r.offsetHeight/2-n.offsetHeight/2;q(n,{top:k,animation:K})}}function y(){const i=E()||z()||I();!i||i.disabled.value||(T(),L(i),ne(i))}function te(){return V(this,null,function*(){e.sticky&&h.value&&(yield h.value.resize())})}return{stickyComponent:h,indicatorWidth:t,indicatorHeight:a,indicatorX:d,indicatorY:f,indicatorPosition:N,localScrollable:l,scrollerEl:m,Transition:ke,toSizeUnit:Se,n:Ee,classes:Ie,resize:y,resizeSticky:te,formatElevation:$e}}});ie.render=Le;var R=ie;J(R);O(R,ee);const Ye=R;export{Ye as _,He as a};
