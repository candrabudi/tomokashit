import{d as s,c as v,y as m,q as S,o as d,l as f,s as u,a7 as y,x as g,r as b,e as C,cS as L,f as w,z as E,t as c,h as n,j,k as B}from"./index-kWXyNMgS.js";import{s as N}from"./index-B_IYqYKr.js";const z={src:String,fit:{type:String,default:"fill"},position:{type:String,default:"50% 50%"},alt:String,title:String,referrerpolicy:String,width:[String,Number],height:[String,Number],radius:{type:[String,Number],default:0},loading:String,error:String,lazy:Boolean,ripple:Boolean,block:{type:Boolean,default:!0},onClick:s(),onLoad:s(),onError:s()},{name:$,n:P,classes:U}=v("image"),D=["alt","title","referrerpolicy","lazy-loading","lazy-error"],F=["alt","title","referrerpolicy","src"];function I(e,r){var i;const a=m("lazy"),t=m("ripple");return S((d(),f("div",{class:u(e.classes(e.n(),e.n("$--box"),[!e.block,e.n("$--inline-block")])),style:y({width:e.toSizeUnit(e.width),height:e.toSizeUnit(e.height),borderRadius:e.toSizeUnit(e.radius)})},[e.lazy&&!e.showErrorSlot?S((d(),f("img",{key:0,role:"img",class:u(e.n("image")),alt:e.alt,title:e.title,referrerpolicy:e.referrerpolicy,"lazy-loading":e.loading,"lazy-error":e.error,style:y({objectFit:e.fit,objectPosition:e.position}),onLoad:r[0]||(r[0]=(...l)=>e.handleLoad&&e.handleLoad(...l)),onClick:r[1]||(r[1]=(...l)=>e.handleClick&&e.handleClick(...l))},null,46,D)),[[a,(i=e.src)!=null?i:""]]):g("v-if",!0),!e.lazy&&!e.showErrorSlot?(d(),f("img",{key:1,role:"img",class:u(e.n("image")),alt:e.alt,title:e.title,referrerpolicy:e.referrerpolicy,style:y({objectFit:e.fit,objectPosition:e.position}),src:e.src,onLoad:r[2]||(r[2]=(...l)=>e.handleLoad&&e.handleLoad(...l)),onError:r[3]||(r[3]=(...l)=>e.handleError&&e.handleError(...l)),onClick:r[4]||(r[4]=(...l)=>e.handleClick&&e.handleClick(...l))},null,46,F)):g("v-if",!0),e.showErrorSlot?b(e.$slots,"error",{key:2}):g("v-if",!0)],6)),[[t,{disabled:!e.ripple}]])}const k=C({name:$,directives:{Lazy:N,Ripple:L},props:z,setup(e,{slots:r}){const i=w(!1);E(()=>e.src,()=>{i.value=!1});function a(o){i.value=!!r.error,n(e.onError,o)}function t(o){const h=o.currentTarget;if(e.lazy){if(h._lazy.state==="success"){n(e.onLoad,o);return}h._lazy.state==="error"&&a(o)}else n(e.onLoad,o)}function l(o){n(e.onClick,o)}return{showErrorSlot:i,n:P,classes:U,toSizeUnit:c,handleLoad:t,handleError:a,handleClick:l}}});k.render=I;var p=k;j(p);B(p,z);const T=p;export{T as _};
