import{d as g,dk as ge,c as F,aW as O,o as v,l as T,n as E,r as b,a as B,w as X,m as w,x as P,s as u,a7 as Z,F as be,e as x,d5 as pe,f as k,g as d,z as R,dp as he,dt as Ce,du as Ne,cW as Ie,h as r,d1 as Be,dv as Pe,t as ye,j as ee,k as ae,cF as U,dw as j,dl as Ae,y as Se,q as $e,J as ke,u as Oe,dx as Te,cI as Ee,cS as we}from"./index-kWXyNMgS.js";import{e as Fe}from"./logger-RF2tOY5E.js";const ne={active:{type:[Number,String],default:0},zIndex:{type:[Number,String],default:1},fixed:Boolean,border:Boolean,variant:Boolean,safeArea:Boolean,activeColor:String,inactiveColor:String,placeholder:Boolean,fabProps:Object,onChange:g(),onBeforeChange:g(),onFabClick:g(),"onUpdate:active":g()},te=Symbol("BOTTOM_NAVIGATION_BIND_BOTTOM_NAVIGATION_ITEM_KEY");function Le(){const{childProviders:e,length:a,bindChildren:n}=ge(te);return{length:a,bottomNavigationItems:e,bindBottomNavigationItem:n}}var ze=Object.defineProperty,W=Object.getOwnPropertySymbols,Me=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,q=(e,a,n)=>a in e?ze(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,K=(e,a)=>{for(var n in a||(a={}))Me.call(a,n)&&q(e,n,a[n]);if(W)for(var n of W(a))_e.call(a,n)&&q(e,n,a[n]);return e};const{name:De,n:Ve,classes:Ge}=F("bottom-navigation"),{n:y}=F("bottom-navigation-item"),Y=y("--right-half-space"),J=y("--left-half-space"),Q=y("--right-space"),He={type:"primary"};function Re(e,a){const n=O("var-button");return v(),T(be,null,[E("div",w({class:e.classes(e.n(),e.n("$--box"),[e.fixed,e.n("--fixed")],[e.border,e.n("--border")],[e.safeArea,e.n("--safe-area")],[e.variant,e.n("--variant")]),ref:"bottomNavigationDom",style:"z-index:".concat(e.zIndex)},e.$attrs),[b(e.$slots,"default"),e.$slots.fab?(v(),B(n,w({key:0,class:e.classes(e.n("fab"),[e.length%2,e.n("--fab-right"),e.n("--fab-center")]),"var-bottom-navigation__fab":"",onClick:e.handleFabClick},e.fabProps),{default:X(()=>[b(e.$slots,"fab")]),_:3},16,["class","onClick"])):P("v-if",!0)],16),e.fixed&&e.placeholder?(v(),T("div",{key:0,class:u(e.n("placeholder")),style:Z({height:e.placeholderHeight})},null,6)):P("v-if",!0)],64)}const oe=x({name:De,components:{VarButton:pe},props:ne,setup(e,{slots:a}){const n=k(null),o=d(()=>e.active),l=d(()=>e.activeColor),m=d(()=>e.inactiveColor),A=d(()=>e.variant),p=k(),h=k({}),{length:s,bottomNavigationItems:C,bindBottomNavigationItem:M}=Le();M({active:o,activeColor:l,inactiveColor:m,variant:A,onToggle:ce}),R(()=>s.value,N),R(()=>e.fabProps,t=>{h.value=K(K({},He),t)},{immediate:!0,deep:!0}),he(H),Ce(()=>{H(),a.fab&&V(s.value)}),Ne(()=>{de(),a.fab&&V(s.value)});function N(){s.value===0||I()||re()||le()}function I(){return C.find(({name:t})=>o.value===t.value)}function re(){return C.find(({index:t})=>o.value===t.value)}function le(){Ie(o.value)&&(o.value<0?r(e["onUpdate:active"],0):o.value>s.value-1&&r(e["onUpdate:active"],s.value-1))}function ce(t){o.value!==t&&(e.onBeforeChange?ve(t):D(t))}function ve(t){const i=Be(r(e.onBeforeChange,t));Promise.all(i).then(c=>{c.every(Boolean)&&D(t)})}function D(t){r(e["onUpdate:active"],t),r(e.onChange,t)}function de(){G().forEach(i=>{i.classList.remove(Y,J,Q)})}function V(t){const i=G(),c=i.length,f=t%2===0;i.forEach((S,$)=>{me(f,S,$,c)})}function me(t,i,c,f){const S=c===f-1;if(!t&&S){i.classList.add(Q);return}const $=c===f/2-1,fe=c===f/2;$?i.classList.add(Y):fe&&i.classList.add(J)}function G(){return Array.from(n.value.querySelectorAll(".".concat(y())))}function ue(){r(e.onFabClick)}function H(){if(!e.fixed||!e.placeholder)return;const{height:t}=Pe(n.value);p.value=ye(t)}return{length:s,bottomNavigationDom:n,fabProps:h,placeholderHeight:p,n:Ve,classes:Ge,handleFabClick:ue}}});oe.render=Re;var L=oe;ee(L);ae(L,ne);const Xe=L,ie={name:String,label:String,icon:U(j,"name"),namespace:U(j,"namespace"),badge:{type:[Boolean,Object],default:!1},onClick:g()};function Ue(){const{parentProvider:e,index:a,bindParent:n}=Ae(te);return n||Fe("BottomNavigationItem","<var-bottom-navigation-item/> must in <var-bottom-navigation/>"),{index:a,bottomNavigation:e,bindBottomNavigation:n}}const{name:je,n:We,classes:qe}=F("bottom-navigation-item"),Ke={type:"danger",dot:!0};function Ye(e,a){const n=O("var-icon"),o=O("var-badge"),l=Se("ripple");return $e((v(),T("button",{class:u(e.classes(e.n(),e.n("$--box"),[e.variant,e.n("--variant-padding")],[e.isActive&&!e.variant,e.n("--active")])),style:Z({color:e.isActive?e.activeColor:e.inactiveColor}),onClick:a[0]||(a[0]=(...m)=>e.handleClick&&e.handleClick(...m))},[E("div",{class:u(e.classes(e.n("icon-container"),[e.variant,e.n("--variant-icon-container")],[e.isActive&&e.variant,e.n("--variant-active")]))},[e.badge?(v(),B(o,w({key:0},e.badgeProps,{class:e.n("badge"),"var-bottom-navigation-item-cover":""}),{default:X(()=>[b(e.$slots,"icon",{active:e.isActive},()=>[e.icon?(v(),B(n,{key:0,name:e.icon,namespace:e.namespace,class:u(e.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):P("v-if",!0)])]),_:3},16,["class"])):b(e.$slots,"icon",{key:1,active:e.isActive},()=>[e.icon?(v(),B(n,{key:0,name:e.icon,namespace:e.namespace,class:u(e.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):P("v-if",!0)])],2),E("span",{class:u(e.n("label"))},[b(e.$slots,"default",{},()=>[ke(Oe(e.label),1)])],2)],6)),[[l]])}const se=x({name:je,components:{VarBadge:Te,VarIcon:Ee},directives:{Ripple:we},props:ie,setup(e){const a=d(()=>e.name),n=d(()=>[a.value,l.value].includes(p.value)),o=d(()=>e.badge===!0?Ke:e.badge),{index:l,bottomNavigation:m,bindBottomNavigation:A}=Ue(),{active:p,activeColor:h,inactiveColor:s,variant:C}=m;A({name:a,index:l});function _(){var N;const I=(N=a.value)!=null?N:l.value;r(e.onClick,I),r(m.onToggle,I)}return{activeColor:h,inactiveColor:s,badgeProps:o,isActive:n,variant:C,n:We,classes:qe,handleClick:_}}});se.render=Ye;var z=se;ee(z);ae(z,ie);const Ze=z;export{Xe as _,Ze as a};
