import{d as y,dl as ie,c as L,aW as P,y as F,o as $,l as N,n as D,q as Z,s as h,a7 as re,r as O,D as M,x as B,e as G,cS as te,cT as de,cI as ze,cU as Ne,cV as ue,f as w,aZ as X,g as E,cZ as ce,cX as De,cY as He,h as z,cK as H,cL as U,A as Ue,j as R,k as W,a as q,w as Y,U as ve,aF as Ae,az as Ie,aU as Ke,aV as Te,c_ as fe,t as Fe,dk as Le,u as Ge,z as j,cF as Re,dP as le,dQ as We}from"./index-kWXyNMgS.js";import{e as Xe}from"./logger-RF2tOY5E.js";import{u as Ye}from"./usePopover-yE41gQhO.js";const pe={modelValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedValue:{type:[String,Number,Boolean,Object,Array],default:!0},uncheckedValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedColor:String,uncheckedColor:String,disabled:Boolean,readonly:Boolean,indeterminate:Boolean,iconSize:[String,Number],ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:()=>["onChange"]},rules:Array,onClick:y(),onChange:y(),"onUpdate:modelValue":y(),"onUpdate:indeterminate":y()},je=Symbol("CHECKBOX_GROUP_BIND_CHECKBOX_KEY");function Ze(){const{bindParent:e,parentProvider:n,index:o}=ie(je);return{index:o,checkboxGroup:n,bindCheckboxGroup:e}}const{name:qe,n:Qe,classes:Je}=L("checkbox"),_e=["tabindex"];function xe(e,n){const o=P("var-icon"),a=P("var-hover-overlay"),m=P("var-form-details"),r=F("hover"),t=F("ripple");return $(),N("div",{class:h(e.n("wrap"))},[D("div",{class:h(e.n()),onClick:n[3]||(n[3]=(...d)=>e.handleClick&&e.handleClick(...d))},[Z(($(),N("div",{ref:"action",class:h(e.classes(e.n("action"),[e.checked||e.isIndeterminate,e.n("--checked"),e.n("--unchecked")],[e.errorMessage||e.checkboxGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:re({color:e.checked||e.isIndeterminate?e.checkedColor:e.uncheckedColor}),tabindex:e.disabled||e.formDisabled?void 0:"0",onFocus:n[0]||(n[0]=d=>e.isFocusing=!0),onBlur:n[1]||(n[1]=d=>e.isFocusing=!1)},[e.isIndeterminate?O(e.$slots,"indeterminate-icon",{key:0},()=>[M(o,{class:h(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),name:"minus-box",size:e.iconSize,"var-checkbox-cover":""},null,8,["class","size"])]):B("v-if",!0),e.checked&&!e.isIndeterminate?O(e.$slots,"checked-icon",{key:1},()=>[M(o,{class:h(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),name:"checkbox-marked",size:e.iconSize,"var-checkbox-cover":""},null,8,["class","size"])]):B("v-if",!0),!e.checked&&!e.isIndeterminate?O(e.$slots,"unchecked-icon",{key:2},()=>[M(o,{class:h(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),name:"checkbox-blank-outline",size:e.iconSize,"var-checkbox-cover":""},null,8,["class","size"])]):B("v-if",!0),M(a,{hovering:!e.disabled&&!e.formDisabled&&e.hovering,focusing:!e.disabled&&!e.formDisabled&&e.isFocusing},null,8,["hovering","focusing"])],46,_e)),[[r,e.handleHovering,"desktop"],[t,{disabled:e.formReadonly||e.readonly||e.formDisabled||e.disabled||!e.ripple}]]),e.$slots.default?($(),N("div",{key:0,class:h(e.classes(e.n("text"),[e.errorMessage||e.checkboxGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),onClick:n[2]||(n[2]=(...d)=>e.handleTextClick&&e.handleTextClick(...d))},[O(e.$slots,"default",{checked:e.checked})],2)):B("v-if",!0)],2),M(m,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const me=G({name:qe,directives:{Ripple:te,Hover:de},components:{VarIcon:ze,VarFormDetails:Ne,VarHoverOverlay:ue},props:pe,setup(e){const n=w(null),o=w(!1),a=X(e,"modelValue"),m=X(e,"indeterminate"),r=E(()=>a.value===e.checkedValue),t=E(()=>e.checkedValue),d=w(!1),{checkboxGroup:u,bindCheckboxGroup:b}=Ze(),{hovering:g,handleHovering:C}=ce(),{form:s,bindForm:i}=De(),{errorMessage:c,validateWithTrigger:l,validate:f,resetValidation:V}=He(),A={checkedValue:t,checked:r,sync:we,validate:oe,resetValidation:V,reset:ne,resetWithAnimation:Oe};z(b,A),z(i,A),H(()=>window,"keydown",Ve),H(()=>window,"keyup",Me);function I(v){Ue(()=>{const{validateTrigger:p,rules:S,modelValue:T}=e;l(p,v,S,T)})}function K(v){const{checkedValue:p,onChange:S}=e;a.value=v,m.value=!1,z(S,a.value),I("onChange"),v===p?u==null||u.onChecked(p):u==null||u.onUnchecked(p)}function k(v){const{disabled:p,readonly:S,checkedValue:T,uncheckedValue:Ee,onClick:Pe}=e;if(s!=null&&s.disabled.value||p||(z(Pe,v),s!=null&&s.readonly.value||S))return;d.value=!0;const Be=u?u.checkedCount.value>=Number(u.max.value):!1;!r.value&&Be||K(r.value?Ee:T)}function Se(){n.value.focus()}function we(v){const{checkedValue:p,uncheckedValue:S}=e;a.value=v.includes(p)?p:S}function Oe(){d.value=!1}function ne(){a.value=e.uncheckedValue,V()}function $e(v){const{checkedValue:p,uncheckedValue:S}=e;![p,S].includes(v)&&(v=r.value?S:p),K(v)}function Ve(v){if(!o.value)return;const{key:p}=v;(p==="Enter"||p===" ")&&U(v),p==="Enter"&&n.value.click()}function Me(v){o.value&&v.key===" "&&(U(v),n.value.click())}function oe(){return f(e.rules,e.modelValue)}return{action:n,isFocusing:o,isIndeterminate:m,withAnimation:d,checked:r,errorMessage:c,checkboxGroupErrorMessage:u==null?void 0:u.errorMessage,formDisabled:s==null?void 0:s.disabled,formReadonly:s==null?void 0:s.readonly,hovering:g,n:Qe,classes:Je,handleHovering:C,handleClick:k,handleTextClick:Se,toggle:$e,reset:ne,validate:oe,resetValidation:V}}});me.render=xe;var Q=me;R(Q);W(Q,pe);var en=Q;const J={show:Boolean,disabled:Boolean,trigger:{type:String,default:"click"},reference:String,placement:{type:String,default:"cover-top-start"},strategy:{type:String,default:"absolute"},offsetX:{type:[Number,String],default:0},offsetY:{type:[Number,String],default:0},teleport:{type:[String,Object,Boolean],default:"body"},sameWidth:Boolean,elevation:{type:[Boolean,String,Number],default:!0},defaultStyle:{type:Boolean,default:!0},popoverClass:String,closeOnClickReference:Boolean,closeOnKeyEscape:{type:Boolean,default:!0},onOpen:y(),onOpened:y(),onClose:y(),onClosed:y(),onClickOutside:y(),"onUpdate:show":y()},{name:nn,n:on,classes:ln}=L("menu");function sn(e,n){return $(),N("div",{ref:"host",class:h(e.classes(e.n(),e.n("$--box"))),onClick:n[3]||(n[3]=(...o)=>e.handleHostClick&&e.handleHostClick(...o)),onMouseenter:n[4]||(n[4]=(...o)=>e.handleHostMouseenter&&e.handleHostMouseenter(...o)),onMouseleave:n[5]||(n[5]=(...o)=>e.handleHostMouseleave&&e.handleHostMouseleave(...o))},[O(e.$slots,"default"),($(),q(Ke,{to:e.teleport===!1?void 0:e.teleport,disabled:e.teleportDisabled||e.teleport===!1},[M(Ie,{name:e.n(),onAfterEnter:e.onOpened,onAfterLeave:e.handleClosed,persisted:""},{default:Y(()=>[Z(D("div",{ref:"popover",style:re({zIndex:e.zIndex,width:e.sameWidth?e.toSizeUnit(Math.ceil(e.hostSize.width)):void 0}),class:h(e.classes(e.n("menu"),e.n("$--box"),e.popoverClass,[e.defaultStyle,e.n("--menu-background-color")],[e.defaultStyle,e.formatElevation(e.elevation,3)])),onClick:n[0]||(n[0]=ve(()=>{},["stop"])),onMouseenter:n[1]||(n[1]=(...o)=>e.handlePopoverMouseenter&&e.handlePopoverMouseenter(...o)),onMouseleave:n[2]||(n[2]=(...o)=>e.handlePopoverMouseleave&&e.handlePopoverMouseleave(...o))},[O(e.$slots,"menu")],38),[[Ae,e.show]])]),_:3},8,["name","onAfterEnter","onAfterLeave"])],8,["to","disabled"]))],34)}const he=G({name:nn,props:J,setup(e){const{disabled:n}=Te(),{popover:o,host:a,hostSize:m,show:r,zIndex:t,handleHostClick:d,handleHostMouseenter:u,handleHostMouseleave:b,handlePopoverMouseenter:g,handlePopoverMouseleave:C,handlePopoverClose:s,handleClosed:i,open:c,close:l,resize:f}=Ye(e);return{popover:o,host:a,hostSize:m,show:r,zIndex:t,teleportDisabled:n,formatElevation:fe,toSizeUnit:Fe,n:on,classes:ln,handleHostClick:d,handleHostMouseenter:u,handleHostMouseleave:b,handlePopoverMouseenter:g,handlePopoverMouseleave:C,handlePopoverClose:s,handleClosed:i,resize:f,open:c,close:l}}});he.render=sn;var _=he;R(_);W(_,J);var an=_;const be=Symbol("MENU_SELECT_BIND_MENU_OPTION_KEY");function rn(){const{length:e,childProviders:n,bindChildren:o}=Le(be);return{length:e,menuOptions:n,bindMenuOptions:o}}function tn(){const{index:e,parentProvider:n,bindParent:o}=ie(be);return o||Xe("MenuOption","<var-menu-option/> must in <var-menu-select/>"),{index:e,menuSelect:n,bindMenuSelect:o}}const ke={label:{},value:{},disabled:Boolean,ripple:{type:Boolean,default:!0}},{name:dn,n:un,classes:cn}=L("menu-option"),vn=["tabindex"];function fn(e,n){const o=P("var-checkbox"),a=P("var-hover-overlay"),m=F("ripple"),r=F("hover");return Z(($(),N("div",{ref:"root",class:h(e.classes(e.n(),e.n("$--box"),e.n("--".concat(e.size)),[e.optionSelected,e.n("--selected-color")],[e.disabled,e.n("--disabled")])),tabindex:e.disabled?void 0:"-1",onClick:n[2]||(n[2]=(...t)=>e.handleClick&&e.handleClick(...t)),onFocus:n[3]||(n[3]=t=>e.isFocusing=!0),onBlur:n[4]||(n[4]=t=>e.isFocusing=!1)},[D("div",{class:h(e.classes(e.n("cover"),[e.optionSelected,e.n("--selected-background")]))},null,2),e.multiple?($(),q(o,{key:0,ref:"checkbox",modelValue:e.optionSelected,"onUpdate:modelValue":n[0]||(n[0]=t=>e.optionSelected=t),disabled:e.disabled,onClick:n[1]||(n[1]=ve(()=>{},["stop"])),onChange:e.handleSelect},null,8,["modelValue","disabled","onChange"])):B("v-if",!0),O(e.$slots,"default",{},()=>[D("div",{class:h(e.classes(e.n("text"),e.n("$--ellipsis")))},Ge(e.label),3)]),M(a,{hovering:e.hovering&&!e.disabled,focusing:e.isFocusing&&!e.disabled},null,8,["hovering","focusing"])],42,vn)),[[m,{disabled:e.disabled||!e.ripple}],[r,e.handleHovering,"desktop"]])}const ye=G({name:dn,directives:{Ripple:te,Hover:de},components:{VarCheckbox:en,VarHoverOverlay:ue},props:ke,setup(e){const n=w(),o=w(!1),a=w(!1),m=E(()=>a.value),r=E(()=>e.label),t=E(()=>e.value),{menuSelect:d,bindMenuSelect:u}=tn(),{size:b,multiple:g,onSelect:C,computeLabel:s}=d,{hovering:i,handleHovering:c}=ce(),l={label:r,value:t,selected:m,sync:K};j([()=>e.label,()=>e.value],s),u(l),H(()=>window,"keydown",V),H(()=>window,"keyup",A);function f(){e.disabled||I()}function V(k){o.value&&((k.key===" "||k.key==="Enter")&&U(k),k.key==="Enter"&&n.value.click())}function A(k){o.value&&k.key===" "&&(U(k),n.value.click())}function I(){g.value&&(a.value=!a.value),C(l)}function K(k){a.value=k}return{root:n,optionSelected:a,size:b,multiple:g,hovering:i,isFocusing:o,n:un,classes:cn,handleHovering:c,handleClick:f,handleSelect:I}}});ye.render=fn;var x=ye;R(x);W(x,ke);const Vn=x;var pn=Object.defineProperty,se=Object.getOwnPropertySymbols,mn=Object.prototype.hasOwnProperty,hn=Object.prototype.propertyIsEnumerable,ae=(e,n,o)=>n in e?pn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,bn=(e,n)=>{for(var o in n||(n={}))mn.call(n,o)&&ae(e,o,n[o]);if(se)for(var o of se(n))hn.call(n,o)&&ae(e,o,n[o]);return e};const ge=bn({modelValue:{type:[String,Number,Boolean,Array],default:void 0},size:{type:String,default:"normal"},multiple:Boolean,scrollable:Boolean,closeOnSelect:{type:Boolean,default:!0},"onUpdate:modelValue":y()},Re(J,["show","disabled","trigger","reference","placement","strategy","offsetX","offsetY","teleport","sameWidth","elevation","popoverClass","closeOnClickReference","onOpen","onOpened","onClose","onClosed","onClickOutside","onUpdate:show"]));function kn(e){const{multiple:n,modelValue:o,optionProviders:a,optionProvidersLength:m}=e,r=w(""),t=w([]);j(o,C,{deep:!0}),j(m,C);function d(){const s=n(),i=o();s&&(t.value=i.map(u)),!s&&!le(i)&&(r.value=u(i)),!s&&le(i)&&(r.value="")}function u(s){var i;const c=a();let l=c.find(({value:f})=>f.value===s);return l||(l=c.find(({label:f})=>f.value===s)),(i=l==null?void 0:l.label.value)!=null?i:""}function b({value:s,label:i}){var c;return(c=s.value)!=null?c:i.value}function g(s){const i=n(),c=a();return i?c.filter(({selected:l})=>l.value).map(b):b(s)}function C(){const s=n(),i=o(),c=a();s?c.forEach(l=>l.sync(i.includes(b(l)))):c.forEach(l=>l.sync(i===b(l))),d()}return{label:r,labels:t,computeLabel:d,getSelectedValue:g}}const{name:yn,n:gn,classes:Cn}=L("menu-select");function Sn(e,n){const o=P("var-menu");return $(),q(o,{ref:"menu",tabindex:"-1",class:h(e.n()),disabled:e.disabled,trigger:e.trigger,reference:e.reference,placement:e.placement,strategy:e.strategy,"offset-x":e.offsetX,"offset-y":e.offsetY,teleport:e.teleport,"same-width":e.sameWidth,elevation:e.elevation,"default-style":!1,"popover-class":e.popoverClass,"close-on-click-reference":e.closeOnClickReference,"close-on-key-escape":!1,show:e.show,"onUpdate:show":n[0]||(n[0]=a=>e.show=a),onOpen:e.onOpen,onOpened:e.onOpened,onClose:e.onClose,onClosed:e.onClosed,onClickOutside:e.onClickOutside},{menu:Y(()=>[D("div",{ref:"menuOptionsRef",class:h(e.classes(e.n("menu"),e.formatElevation(e.elevation,3),[e.scrollable,e.n("--scrollable")]))},[O(e.$slots,"options")],2)]),default:Y(()=>[O(e.$slots,"default")]),_:3},8,["class","disabled","trigger","reference","placement","strategy","offset-x","offset-y","teleport","same-width","elevation","popover-class","close-on-click-reference","show","onOpen","onOpened","onClose","onClosed","onClickOutside"])}const Ce=G({name:yn,components:{VarMenu:an},props:ge,setup(e){const n=w(null),o=w(null),a=X(e,"show"),{menuOptions:m,length:r,bindMenuOptions:t}=rn(),{computeLabel:d,getSelectedValue:u}=kn({modelValue:()=>e.modelValue,multiple:()=>e.multiple,optionProviders:()=>m,optionProvidersLength:()=>r.value}),b={size:E(()=>e.size),multiple:E(()=>e.multiple),computeLabel:d,onSelect:g};t(b),H(()=>window,"keydown",C);function g(l){const{multiple:f,closeOnSelect:V}=e;z(e["onUpdate:modelValue"],u(l)),!f&&V&&(n.value.$el.focus(),i())}function C(l){if(e.disabled||!a.value)return;const{key:f}=l;if(["Escape","ArrowDown","ArrowUp"].includes(f)&&U(l),f==="Escape"){n.value.$el.focus(),i();return}(f==="ArrowDown"||f==="ArrowUp")&&We(n.value.$el,o.value,f)}function s(){var l;(l=n.value)==null||l.open()}function i(){var l;(l=n.value)==null||l.close()}function c(){var l;(l=n.value)==null||l.resize()}return{show:a,menu:n,menuOptionsRef:o,n:gn,classes:Cn,formatElevation:fe,open:s,close:i,resize:c}}});Ce.render=Sn;var ee=Ce;R(ee);W(ee,ge);const Mn=ee;export{Mn as _,Vn as a};
